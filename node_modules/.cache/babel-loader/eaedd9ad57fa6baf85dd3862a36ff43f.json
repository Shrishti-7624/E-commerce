{"ast":null,"code":"// import addCart from \"../action\";\n// import { delCart } from \"../action\";\nconst cart = [];\n\nconst handleCart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : cart;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const product = action.payload;\n\n  switch (action.type) {\n    case \"addItem\":\n      const exist = state.find(x => x.id === product.id);\n\n      if (exist) {\n        return state.map(x => x.id === product.id ? { ...x,\n          qty: x.qty + 1\n        } : x);\n      } else {\n        const product = action.payload;\n        return [...state, { ...product,\n          qty: 1\n        }];\n      }\n\n    // break;\n\n    case \"delItem\":\n      const notExist = state.find(x => x.id === product.id);\n\n      if (notExist.qty === 1) {\n        return state.filter(x => x.id !== notExist.id);\n      } else {\n        return state.map(x => x.id === product.id ? { ...x,\n          qty: x.qty - 1\n        } : x);\n      }\n\n    // break;\n\n    default:\n      return state;\n    // break;\n  }\n};\n\nexport default handleCart;","map":{"version":3,"names":["cart","handleCart","state","action","product","payload","type","exist","find","x","id","map","qty","notExist","filter"],"sources":["C:/Users/Shrishti.s/Desktop/final_ecommerce_rtdb/src/redux/reducer/handleCart.js"],"sourcesContent":["// import addCart from \"../action\";\r\n// import { delCart } from \"../action\";\r\nconst cart = [];\r\nconst handleCart = (state = cart, action) => {\r\n  const product = action.payload;\r\n  switch (action.type) {\r\n    case \"addItem\":\r\n      const exist = state.find((x) => x.id === product.id);\r\n      if (exist) {\r\n        return state.map((x) =>\r\n          x.id === product.id ? { ...x, qty: x.qty + 1 } : x\r\n        );\r\n      } else {\r\n        const product = action.payload;\r\n        return [\r\n          ...state,\r\n          {\r\n            ...product,\r\n            qty: 1,\r\n          },\r\n        ];\r\n      }\r\n    // break;\r\n    case \"delItem\":\r\n      const notExist = state.find((x) => x.id === product.id);\r\n      if (notExist.qty === 1) {\r\n        return state.filter((x) => x.id !== notExist.id);\r\n      } else {\r\n        return state.map((x) =>\r\n          x.id === product.id ? { ...x, qty: x.qty - 1 } : x\r\n        );\r\n      }\r\n    // break;\r\n    default:\r\n      return state;\r\n    // break;\r\n  }\r\n};\r\n\r\nexport default handleCart;\r\n"],"mappings":"AAAA;AACA;AACA,MAAMA,IAAI,GAAG,EAAb;;AACA,MAAMC,UAAU,GAAG,YAA0B;EAAA,IAAzBC,KAAyB,uEAAjBF,IAAiB;EAAA,IAAXG,MAAW;EAC3C,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAvB;;EACA,QAAQF,MAAM,CAACG,IAAf;IACE,KAAK,SAAL;MACE,MAAMC,KAAK,GAAGL,KAAK,CAACM,IAAN,CAAYC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAnC,CAAd;;MACA,IAAIH,KAAJ,EAAW;QACT,OAAOL,KAAK,CAACS,GAAN,CAAWF,CAAD,IACfA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAjB,GAAsB,EAAE,GAAGD,CAAL;UAAQG,GAAG,EAAEH,CAAC,CAACG,GAAF,GAAQ;QAArB,CAAtB,GAAiDH,CAD5C,CAAP;MAGD,CAJD,MAIO;QACL,MAAML,OAAO,GAAGD,MAAM,CAACE,OAAvB;QACA,OAAO,CACL,GAAGH,KADE,EAEL,EACE,GAAGE,OADL;UAEEQ,GAAG,EAAE;QAFP,CAFK,CAAP;MAOD;;IACH;;IACA,KAAK,SAAL;MACE,MAAMC,QAAQ,GAAGX,KAAK,CAACM,IAAN,CAAYC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAnC,CAAjB;;MACA,IAAIG,QAAQ,CAACD,GAAT,KAAiB,CAArB,EAAwB;QACtB,OAAOV,KAAK,CAACY,MAAN,CAAcL,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASG,QAAQ,CAACH,EAAtC,CAAP;MACD,CAFD,MAEO;QACL,OAAOR,KAAK,CAACS,GAAN,CAAWF,CAAD,IACfA,CAAC,CAACC,EAAF,KAASN,OAAO,CAACM,EAAjB,GAAsB,EAAE,GAAGD,CAAL;UAAQG,GAAG,EAAEH,CAAC,CAACG,GAAF,GAAQ;QAArB,CAAtB,GAAiDH,CAD5C,CAAP;MAGD;;IACH;;IACA;MACE,OAAOP,KAAP;IACF;EA9BF;AAgCD,CAlCD;;AAoCA,eAAeD,UAAf"},"metadata":{},"sourceType":"module"}